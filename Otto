import java.util.Scanner;

public class OttoPowerBased {

    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);

        System.out.println("=== Otto Cycle Power-Based Efficiency Calculator ===");

        // --- User Inputs ---
        System.out.print("Enter compression ratio (r): ");
        double r = sc.nextDouble();

        System.out.print("Enter ratio of specific heats (gamma, typically 1.4): ");
        double gamma = sc.nextDouble();

        System.out.print("Enter intake temperature T1 [K] (e.g., 300): ");
        double T1 = sc.nextDouble();

        System.out.print("Enter maximum temperature T3 [K] (e.g., 2000): ");
        double T3 = sc.nextDouble();

        System.out.print("Enter desired net power output [kW]: ");
        double desiredPower = sc.nextDouble();

        // Thermodynamic constants
        double cv = 0.718; // kJ/kg·K
        double cp = gamma * cv;

        // --- Thermodynamic State Calculations ---
        double T2 = T1 * Math.pow(r, (gamma - 1));          // Isentropic compression
        double q_in = cv * (T3 - T2);                       // Heat added
        double T4 = T3 / Math.pow(r, (gamma - 1));          // Isentropic expansion
        double q_out = cv * (T4 - T1);                      // Heat rejected

        double w_net = q_in - q_out;                        // Net work per kg
        double thermalEfficiency = w_net / q_in;            // Cycle efficiency

        // --- Mass Flow Needed for Desired Power ---
        // Power = ṁ * w_net  => ṁ = Power / w_net
        double massFlowRate = desiredPower / w_net;         // kg/s

        // --- Required Heat Input (per second) ---
        double heatInputRate = massFlowRate * q_in;         // kW

        // --- Output Results ---
        System.out.println("\n=== Results ===");
        System.out.printf("T2 = %.2f K%n", T2);
        System.out.printf("T4 = %.2f K%n", T4);
        System.out.printf("Net work per unit mass (W_net) = %.2f kJ/kg%n", w_net);
        System.out.printf("Thermal efficiency = %.2f%%%n", thermalEfficiency * 100);

        System.out.println("\n--- Power and Flow Results ---");
        System.out.printf("Desired power output = %.2f kW%n", desiredPower);
        System.out.printf("Required mass flow rate = %.4f kg/s%n", massFlowRate);
        System.out.printf("Required heat input rate = %.2f kW%n", heatInputRate);

        sc.close();
    }
}
